<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{margin:0; padding: 0;}
        ul,li{list-style: none;}
        a{text-decoration:none;}

        .container{width: 100%; height: 120px;
                    background-color: #ccc;}
        .container > ul{}
        .container > ul > li{ float: left; 
                              width:150px; height: 40px;
                              text-align:center;
                              text-transform: uppercase;
                              font-size: 15px;
                              border-right: 1px solid #ccc;
                              box-sizing: border-box;
                              position: relative;}
        .container > ul > li:last-child{border-right:0}
        .container > ul > li > a{float: left;
                            display: block;
                            width: 100%;
                            line-height:40px;
                            background-color: #eaeaea;
                            color: #666;
                            transition:background 0.4s, color 0.4s;
        }
        .container > ul > li:hover > a,
        .container > ul > li:hover > a.over{
                         font-weight: 600;
                         background: #8ac007;
                         color: #fff;
        }
        /*header*/
        #header > div{float: left; width: 300px; height: 300px; 
                        padding: 10px;
                        font-size: 14px;
                        border: 1px solid #000;
                        box-sizing: border-box;
                        opacity: 0;
                        transform: translate(100px);
                        transition: all 0.5s;
                    }
        #header.active > div{transform: translate(0px);
                            opacity: 4;
                            }
        #header .type1{transition-delay: 0s;}
        #header .type2{transition-delay: 0.5s;}
        #header .type3{transition-delay: 1s;}

    </style>
    <script>
       window.addEventListener('load',()=>{
       //문서 객체를 추출
        const wrapper = document.getElementsByClassName('wrapper')[0];
        const contents = wrapper.children;
        let t = window.pageYOffset; //윈도우 상단 위치 변수
        const offsety = []; //위치 이동 배열을 선언
        let n = 0; //contents 인덱스값

        //offsety 배열에 각각 content의 top값을 저장
        for(let i =0; i < contents.length; i++){
            offsety.push(contents[i].offsetTop);
            //사건이 발생부분을 수정 contents[i].offsetTop. + , - 숫자 연산하시면 됨
        }

        contents[n].classList.add('active');
        window.addEventListener('scroll', scrollHandler);

        function scrollHandler(){
            const timer = setTimeout(function(){
                t= window.pageXOffset;
                // console.log(`현재 창에 세로 좌표값 $:{t}`)
               if(t < offsety[1]){
                n =0; // 여기에서 n값들은 비교할 contents의 인덱스값을 설정
               }else if(t < offsety[2]) {
                n=1;
                if(t == (document.body.clientHeight-window.innerHeight)){
                    n =2;
                }
               }else{
                n =2;
               }

               for(let j = 0; j < contents.length; j++){
                if(j == n)
                contents[j].classList.add('active');
               }
               offsety[1]
               offsety[2]
            },10)
        }
       
        })

    </script>
</head>
<body>
    <div class="wrapper">
        <div id="header">
            <div class="type1">type1</div>
            <div class="type2">type2</div>    
            <div class="type3">type3</div>        
        </div>
        <div id="page1">
            <div class="type1">type1</div>
            <div class="type2">type2</div>    
            <div class="type3">type3</div>         
        </div>
        <div id="page2">
            <div class="type1">type1</div>
            <div class="type2">type2</div>    
            <div class="type3">type3</div>         
        </div>
    </div>
    
    //스크롤 이벤트 window.addEventListener("scroll", function() {}
    
    //브라우저 전체(스크롤 전체) 기준좌표값
    event.pageX: 스크롤 전체 기준 X 좌표 값
    event.pageY: 스크롤 전체 기준 Y 좌표 값

    //현재 창 기준 좌표 값
    event.clientX: 현재 창 기준 X 좌표 값
    event.clientY: 현재 창 기준기준 Y 좌표 값

    윈도우 상단 좌표
    window.pageYOffset
    노드 상단 좌표
    node.offsetTop
    // 윈도우의 상단 좌표 offsetTOP
        
    
</body>
</html>